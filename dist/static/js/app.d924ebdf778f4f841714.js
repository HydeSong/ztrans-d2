webpackJsonp([13],{0:function(e,t,n){n("j1ja"),e.exports=n("NHnr")},"7Yeb":function(e,t){},"7YgM":function(e,t){e.exports={name:"d2-admin-start-kit",version:"1.1.4",description:"A management system framework based on element",author:"李杨 <1711467488@qq.com>",private:!0,scripts:{dev:"webpack-dev-server --inline --progress --config build/webpack.dev.conf.js",start:"npm run dev",lint:"eslint --fix --ext .js,.vue src",build:"node build/build.js"},dependencies:{axios:"^0.17.1","babel-polyfill":"^6.26.0","better-scroll":"^1.12.1",dayjs:"^1.7.2","element-ui":"^2.0.11","js-base64":"^2.4.5","js-cookie":"^2.2.0","lodash.uniqueid":"^4.0.1",lowdb:"^1.0.0",md5:"^2.2.1","particles.js":"^2.0.0",vue:"^2.5.2","vue-router":"^3.0.1",vuex:"^3.0.1"},devDependencies:{autoprefixer:"^7.1.2","babel-core":"^6.22.1","babel-eslint":"^7.1.1","babel-helper-vue-jsx-merge-props":"^2.0.3","babel-loader":"^7.1.1","babel-plugin-syntax-jsx":"^6.18.0","babel-plugin-transform-runtime":"^6.22.0","babel-plugin-transform-vue-jsx":"^3.5.0","babel-preset-env":"^1.3.2","babel-preset-stage-2":"^6.22.0",chalk:"^2.0.1","copy-webpack-plugin":"^4.0.1","css-loader":"^0.28.0",eslint:"^3.19.0","eslint-config-standard":"^10.2.1","eslint-friendly-formatter":"^3.0.0","eslint-loader":"^1.7.1","eslint-plugin-html":"^3.0.0","eslint-plugin-import":"^2.7.0","eslint-plugin-node":"^5.2.0","eslint-plugin-promise":"^3.4.0","eslint-plugin-standard":"^3.0.1","extract-text-webpack-plugin":"^3.0.0","file-loader":"^1.1.4","friendly-errors-webpack-plugin":"^1.6.1","html-webpack-plugin":"^2.30.1","node-notifier":"^5.1.2","node-sass":"^4.7.2","optimize-css-assets-webpack-plugin":"^3.2.0",ora:"^1.2.0",portfinder:"^1.0.13","postcss-import":"^11.0.0","postcss-loader":"^2.0.8",rimraf:"^2.6.0","sass-loader":"^6.0.6",semver:"^5.5.0",shelljs:"^0.7.6","uglifyjs-webpack-plugin":"^1.1.1","url-loader":"^0.5.8","vue-loader":"^13.3.0","vue-style-loader":"^3.0.1","vue-template-compiler":"^2.5.2",webpack:"^3.6.0","webpack-bundle-analyzer":"^2.9.0","webpack-dev-server":"^2.9.1","webpack-merge":"^4.1.0"},engines:{node:">= 4.0.0",npm:">= 3.0.0"},browserslist:["> 1%","last 2 versions","not ie <= 8"]}},FhoZ:function(e,t,n){"use strict";(function(t){const a=n("o/zv");e.exports={dev:{assetsSubDirectory:"static",assetsPublicPath:"/",proxyTable:{},host:"localhost",port:8080,autoOpenBrowser:!0,errorOverlay:!0,notifyOnErrors:!0,poll:!1,useEslint:!0,showEslintErrorsInOverlay:!1,devtool:"eval-source-map",cacheBusting:!0,cssSourceMap:!1},build:{index:a.resolve(t,"../dist/index.html"),assetsRoot:a.resolve(t,"../dist"),assetsSubDirectory:"static",assetsPublicPath:"/",productionSourceMap:!0,devtool:"#source-map",productionGzip:!1,productionGzipExtensions:["js","css"],bundleAnalyzerReport:Object({NODE_ENV:"production"}).npm_config_report}}}).call(t,"/")},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("j1ja");var a=n("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"app"},i,!1,function(e){n("7Yeb")},null,null).exports,r=n("NYxO"),s=n("lbHh"),l=n.n(s),d=n("mtWM"),u=n.n(d),c=n("6S2P"),m=n.n(c),p=n("oqQY"),f=n.n(p),h=n("7YgM"),g=n.n(h),v={uuid:function(){return l.a.get("uuid")},title:function(e){window.document.title="D2Admin"+(e?" | "+e:"")},openFullScreen:function(){var e=document.body;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},openNewPage:function(e,t,n,a){var i=0;if(e.$store.state.d2admin.pageOpenedList.find(function(e,n){var a=e.name===t;return i=a?n:i,a}))e.$store.commit("d2adminPageOpenedListUpdateItem",{index:i,argu:n,query:a});else{var o=e.$store.state.d2admin.tagPool.find(function(e){return e.name===t});o&&e.$store.commit("d2adminTagIncreate",{tag:o,argu:n,query:a})}e.$store.commit("d2adminPageCurrentSet",t)},isOneOf:function(e,t){return t.indexOf(e)>=0},checkUpdate:function(e){u.a.get("https://api.github.com/repos/FairyEver/d2-admin/releases/latest").then(function(t){var n=t.tag_name,a=m.a.lt(g.a.version,n);"development"===e.$env&&a&&e.$store.state.d2admin.updateNotify&&e.$nextTick(function(){e.$notify({title:"D2Admin 新版本 "+t.name,duration:0,dangerouslyUseHTMLString:!0,message:("\n              <p>当前版本: "+g.a.version+"</p>\n              <p>"+f()(t.created_at).format("YYYY年M月D日")+"更新 版本号: "+t.tag_name+'</p>\n              <p style="color: #CCC;">此信息只在开发环境提示</p>\n              <p>\n                <a\n                  href="'+t.html_url+'"\n                  class="el-button el-button--primary el-button--mini"\n                  style="text-decoration: none; margin-top: 10px;"\n                  target="blank">\n                  <i class="fa fa-link" style="margin-right: 5px;"></i>\n                  详细信息\n                </a>\n              </p>\n            ').trim()})}),e.$store.commit("d2adminUpdateSet",a),e.$store.commit("d2adminReleasesSet",t)}).catch(function(e){console.log("checkUpdate error",e)})}},b=v,y=n("qSrU"),_=n.n(y),x=n("DJAq"),w=new(n.n(x).a)("d2admin"),k=_()(w);k.defaults({themeActiveName:[],pageOpenedList:[],updateNotify:[],username:[]}).write();var C=k,L=[{title:"d2admin 经典",name:"d2",preview:"static/image/theme/d2/preview@2x.png"},{title:"紫罗兰",name:"violet",preview:"static/image/theme/violet/preview@2x.png"},{title:"流星",name:"star",backgroundImage:"static/image/bg/star-squashed.jpg",preview:"static/image/theme/star/preview@2x.png"}],O={state:{username:"",releases:{},version:g.a.version,update:!1,updateNotify:!1,isFullScreen:!1,isGrayMode:!1,themeList:L,themeActiveName:L[0].name,tagPool:[],pageOpenedList:[{name:"index",meta:{title:"首页",requiresAuth:!1}}],pageCurrent:""},getters:{themeActiveSetting:function(e){return e.themeList.find(function(t){return t.name===e.themeActiveName})}},mutations:{d2adminVuex2DbByUuid:function(e,t){var n=C.get(t).find({uuid:b.uuid()});n.value()?n.assign({value:e[t]}).write():C.get(t).push({uuid:b.uuid(),value:e[t]}).write()},d2adminDb2VuexByUuid:function(e,t){var n=t.key,a=t.defaultValue,i=C.get(n).find({uuid:b.uuid()}).value();e[n]=i?i.value:a},d2adminDbRemoveByUuid:function(e,t){var n=t.key,a=t.emptyValue;C.get(n).remove({uuid:b.uuid()}).write(),e[n]=a},d2adminVuex2Db:function(e,t){var n=C.get(t).find({pub:"pub"});n.value()?n.assign({value:e[t]}).write():C.get(t).push({pub:"pub",value:e[t]}).write()},d2adminDb2Vuex:function(e,t){var n=t.key,a=t.defaultValue,i=C.get(n).find({pub:"pub"}).value();e[n]=i?i.value:a},d2adminDbRemove:function(e,t){var n=t.key,a=t.emptyValue;C.get(n).remove({pub:"pub"}).write(),e[n]=a},d2adminUsernameSet:function(e,t){e.username=t,this.commit("d2adminVuex2DbByUuid","username")},d2adminUsernameLoad:function(e){this.commit("d2adminDb2VuexByUuid",{key:"username",defaultValue:""})},d2adminReleasesSet:function(e,t){e.releases=t},d2adminUpdateSet:function(e,t){e.update=t},d2adminUpdateNotifySet:function(e,t){e.updateNotify=t,this.commit("d2adminVuex2Db","updateNotify")},d2adminUpdateNotifyLoad:function(e,t){this.commit("d2adminDb2Vuex",{key:"updateNotify",defaultValue:!0})},d2adminPageCurrentSet:function(e,t){e.pageCurrent=t},d2adminTagPoolSet:function(e,t){e.tagPool=t},d2adminPageOpenedListUpdateItem:function(e,t){var n=t.index,a=t.argu,i=t.query,o=e.pageOpenedList[n];o.argu=a||o.argu,o.query=i||o.query,e.pageOpenedList.splice(n,1,o),this.commit("d2adminVuex2DbByUuid","pageOpenedList")},d2adminPageOpenedListLoad:function(e){this.commit("d2adminDb2VuexByUuid",{key:"pageOpenedList",defaultValue:e.pageOpenedList})},d2adminTagIncreate:function(e,t){var n=t.tag,a=t.argu,i=t.query,o=n;o.argu=a||o.argu,o.query=i||o.query,o.argu=a||o.argu,e.pageOpenedList.push(o),this.commit("d2adminVuex2DbByUuid","pageOpenedList")},d2adminTagClose:function(e,t){var n=e.pageOpenedList.findIndex(function(e){return e.name===t});n>=0&&e.pageOpenedList.splice(n,1),this.commit("d2adminVuex2DbByUuid","pageOpenedList")},d2adminTagCloseLeft:function(e){var t=0;e.pageOpenedList.forEach(function(n,a){n.name===e.pageCurrent&&(t=a)}),t>0&&e.pageOpenedList.splice(1,t-1),this.commit("d2adminVuex2DbByUuid","pageOpenedList")},d2adminTagCloseRight:function(e){var t=0;e.pageOpenedList.forEach(function(n,a){n.name===e.pageCurrent&&(t=a)}),e.pageOpenedList.splice(t+1),this.commit("d2adminVuex2DbByUuid","pageOpenedList")},d2adminTagCloseOther:function(e){var t=0;e.pageOpenedList.forEach(function(n,a){n.name===e.pageCurrent&&(t=a)}),0===t?e.pageOpenedList.splice(1):(e.pageOpenedList.splice(t+1),e.pageOpenedList.splice(1,t-1)),this.commit("d2adminVuex2DbByUuid","pageOpenedList")},d2adminTagCloseAll:function(e){e.pageOpenedList.splice(1),this.commit("d2adminVuex2DbByUuid","pageOpenedList")},d2adminFullScreenToggle:function(e){e.isFullScreen?(b.exitFullScreen(),e.isFullScreen=!1):(b.openFullScreen(),e.isFullScreen=!0)},d2adminGrayModeToggle:function(e){e.isGrayMode=!e.isGrayMode},d2adminGrayModeSet:function(e,t){e.isGrayMode=t},d2adminThemeSet:function(e,t){var n=e.themeList.find(function(e){return e.name===t});e.themeActiveName=n?t:e.themeList[0].name,this.commit("d2adminTheme2dom"),this.commit("d2adminVuex2DbByUuid","themeActiveName")},d2adminTheme2dom:function(e){document.body.className="theme-"+e.themeActiveName},d2adminThemeLoad:function(e){this.commit("d2adminDb2VuexByUuid",{key:"themeActiveName",defaultValue:e.themeList[0].name}),this.commit("d2adminTheme2dom")}}};a.default.use(r.a);var S,$=new r.a.Store({modules:{d2admin:O}}),T=n("/ocq"),q=n("Dd8w"),D=n.n(q),F={requiresAuth:!0},U=[{path:"/",redirect:{name:"index"},component:function(){return n.e(1).then(n.bind(null,"pk10"))},children:[{path:"index",name:"index",meta:F,component:function(){return n.e(10).then(n.bind(null,"Xk2V"))}}]},{path:"/core/setting",name:"core-setting",meta:F,redirect:{name:"core-setting-index"},component:function(){return n.e(1).then(n.bind(null,"pk10"))},children:(S="core-setting-",[{path:"index",name:S+"index",component:function(){return n.e(9).then(n.bind(null,"DNg3"))},meta:D()({},F,{title:"设置首页"})},{path:"releases",name:S+"releases",component:function(){return n.e(7).then(n.bind(null,"U3an"))},meta:D()({},F,{title:"版本"})}])},{path:"/schedule",name:"schedule",meta:F,redirect:{name:"schedule-employee"},component:function(){return n.e(1).then(n.bind(null,"pk10"))},children:[{path:"employee",name:"schedule-employee",component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"//Yo"))},meta:D()({},F,{title:"调度人"})},{path:"car",name:"schedule-car",component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"LkRG"))},meta:D()({},F,{title:"车辆"})}]}],V=U,A=[].concat(U,[{path:"/login",name:"login",component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"84zo"))}}],[{path:"*",name:"404",component:function(){return n.e(8).then(n.bind(null,"94EK"))}}]);a.default.use(T.a);var B=new T.a({routes:A});B.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.requiresAuth})?l.a.get("token")?n():n({name:"login"}):n()}),B.afterEach(function(e){var t=B.app,n=e.name,a=e.params,i=e.query;b.openNewPage(t,n,a,i),b.title(e.meta.title)});var N=B,P=n("zL8q"),R=n.n(P),E=(n("tvR6"),n("Obzr"),n("GQaK")),j={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d2-container-full"},[e.$slots.header?n("div",{ref:"header",staticClass:"d2-container-full__header"},[e._t("header")],2):e._e(),e._v(" "),n("div",{staticClass:"d2-container-full__body"},[e._t("default")],2),e._v(" "),e.$slots.footer?n("div",{ref:"footer",staticClass:"d2-container-full__footer"},[e._t("footer")],2):e._e()])},staticRenderFns:[]},M=n("VU/8")({name:"d2-container-full"},j,!1,null,null,null).exports,z={name:"d2-container-full-bs",data:function(){return{BS:null}},mounted:function(){this.scrollInit()},beforeDestroy:function(){this.scrollDestroy()},methods:{scrollInit:function(){this.BS=new E.a(this.$refs.wrapper,{mouseWheel:!0,scrollbar:{fade:!0,interactive:!1}})},scrollDestroy:function(){this.BS&&this.BS.destroy()}}},I={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d2-container-full-bs"},[e.$slots.header?n("div",{ref:"header",staticClass:"d2-container-full-bs__header"},[e._t("header")],2):e._e(),e._v(" "),n("div",{ref:"wrapper",staticClass:"d2-container-full-bs__body"},[n("div",{staticStyle:{padding:"20px 0px"}},[e._t("default")],2)]),e._v(" "),e.$slots.footer?n("div",{ref:"footer",staticClass:"d2-container-full-bs__footer"},[e._t("footer")],2):e._e()])},staticRenderFns:[]},Y=n("VU/8")(z,I,!1,null,null,null).exports,G={name:"d2-container",props:{type:{type:String,required:!1,default:"card"},scroll:{type:Boolean,required:!1,default:!1},responsive:{type:Boolean,required:!1,default:!1}},components:{"d2-container-full":M,"d2-container-full-bs":Y},data:function(){return{BS:null}},mounted:function(){"card"!==this.type&&"ghost"!==this.type||this.scrollInit()},beforeDestroy:function(){"card"!==this.type&&"ghost"!==this.type||this.scrollDestroy()},methods:{scrollInit:function(){this.BS=new E.a(this.$refs.container,{mouseWheel:!0,scrollbar:{fade:!0,interactive:!1}})},scrollDestroy:function(){this.BS&&this.BS.destroy()}}},H={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",staticClass:"container-component",class:{responsive:e.responsive}},["card"===e.type?n("el-card",{staticClass:"d2-container-card d2-mr",attrs:{shadow:"never"}},[e.$slots.header?e._t("header",null,{slot:"header"}):e._e(),e._v(" "),e._t("default")],2):e._e(),e._v(" "),"ghost"===e.type?n("div",{staticClass:"d2-container-ghost"},[e.$slots.header?n("el-card",{staticClass:"d2-container-ghost-header",attrs:{shadow:"never"}},[e._t("header")],2):e._e(),e._v(" "),e._t("default")],2):e._e(),e._v(" "),"full"!==e.type||e.scroll?e._e():n("d2-container-full",[e.$slots.header?e._t("header",null,{slot:"header"}):e._e(),e._v(" "),e._t("default"),e._v(" "),e.$slots.footer?e._t("footer",null,{slot:"footer"}):e._e()],2),e._v(" "),"full"===e.type&&e.scroll?n("d2-container-full-bs",[e.$slots.header?e._t("header",null,{slot:"header"}):e._e(),e._v(" "),e._t("default"),e._v(" "),e.$slots.footer?e._t("footer",null,{slot:"footer"}):e._e()],2):e._e()],1)},staticRenderFns:[]};var W=n("VU/8")(G,H,!1,function(e){n("zk8y")},"data-v-e9bcfc6c",null).exports,Q={data:function(){return{activeName:"first"}},computed:D()({},Object(r.d)({pageOpenedList:function(e){return e.d2admin.pageOpenedList},pageCurrent:function(e){return e.d2admin.pageCurrent}})),methods:{handleControlItemClick:function(e){switch(e){case"left":this.closeAllTagLeft();break;case"right":this.closeAllTagRight();break;case"other":this.closeAllTagOther();break;case"all":this.closeAllTag();break;default:console.log("无效指令")}},handleControlBtnClick:function(){this.closeAllTag()},handleClick:function(e,t){var n=this.pageOpenedList.find(function(t){return t.name===e.name});n&&this.$router.push({name:n.name,params:n.argu,query:n.query})},handleTabsEdit:function(e,t){"remove"===t&&this.closeTag(e)},closeAllTagLeft:function(){this.$store.commit("d2adminTagCloseLeft")},closeAllTagRight:function(){this.$store.commit("d2adminTagCloseRight")},closeAllTagOther:function(){this.$store.commit("d2adminTagCloseOther")},closeAllTag:function(){this.$store.commit("d2adminTagCloseAll"),this.$router.push({name:"index"})},closeTag:function(e){var t=this.pageOpenedList[0];if(this.pageCurrent===e)for(var n=this.pageOpenedList.length,a=1;a<n;a++)if(this.pageOpenedList[a].name===e){t=a<n-1?this.pageOpenedList[a+1]:this.pageOpenedList[a-1];break}this.$store.commit("d2adminTagClose",e),this.pageCurrent===e&&this.linkTo(t)},linkTo:function(e){var t=e.name,n=void 0===t?"":t,a=e.argu,i=void 0===a?{}:a,o=e.query,r={name:n,params:i,query:void 0===o?{}:o};this.$router.push(r)}}},Z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d2-multiple-page-control-group"},[n("div",{staticClass:"d2-multiple-page-control-content"},[n("div",{staticClass:"d2-multiple-page-control-content-inner"},[n("el-tabs",{staticClass:"d2-multiple-page-control",attrs:{value:e.pageCurrent,type:"card",closable:!0},on:{"tab-click":e.handleClick,edit:e.handleTabsEdit}},e._l(e.pageOpenedList,function(e,t){return n("el-tab-pane",{key:t,attrs:{label:e.meta.title||"未命名",name:e.name}})}))],1)]),e._v(" "),n("div",{staticClass:"d2-multiple-page-control-btn"},[n("el-dropdown",{attrs:{"split-button":""},on:{click:e.handleControlBtnClick,command:e.handleControlItemClick}},[n("d2-icon",{attrs:{name:"times-circle"}}),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"left"}},[n("d2-icon",{staticClass:"d2-mr-10",attrs:{name:"arrow-left"}}),e._v("\n          关闭左侧\n        ")],1),e._v(" "),n("el-dropdown-item",{attrs:{command:"right"}},[n("d2-icon",{staticClass:"d2-mr-10",attrs:{name:"arrow-right"}}),e._v("\n          关闭右侧\n        ")],1),e._v(" "),n("el-dropdown-item",{attrs:{command:"other"}},[n("d2-icon",{staticClass:"d2-mr-10",attrs:{name:"times"}}),e._v("\n          关闭其它\n        ")],1),e._v(" "),n("el-dropdown-item",{attrs:{command:"all"}},[n("d2-icon",{staticClass:"d2-mr-10",attrs:{name:"times-circle"}}),e._v("\n          全部关闭\n        ")],1)],1)],1)],1)])},staticRenderFns:[]},J=n("VU/8")(Q,Z,!1,null,null,null).exports;a.default.component("d2-container",W),a.default.component("d2-multiple-page-control",J),a.default.component("d2-icon",function(){return n.e(11).then(n.bind(null,"e+l3"))}),a.default.component("d2-theme-list",function(){return n.e(5).then(n.bind(null,"CZuQ"))}),a.default.component("d2-page-cover",function(){return n.e(6).then(n.bind(null,"Lxxt"))});var K=n("//Fk"),X=n.n(K);u.a.interceptors.response.use(function(e){var t="";if(console.log(e),200===e.status){var n=e.data.code;switch(n){case 0:t=e.data;break;case 401:case 403:case 404:case-1:console.log(n),P.Message.error(e.data.message);break;case-5001:console.log(n),P.Message.error(e.data.message),window.location.href="/";break;case-5003:case-5004:default:console.log(n),P.Message.error(e.data.message)}return t}},function(e){return X.a.reject(e)}),a.default.prototype.$axios=u.a;var ee=n("FhoZ"),te=n.n(ee);a.default.use(R.a),a.default.config.productionTip=!1,a.default.prototype.$env="production",a.default.prototype.$assetsPublicPath=te.a.build.assetsPublicPath,new a.default({el:"#app",store:$,router:N,template:"<App/>",components:{App:o},created:function(){this.getAllTagFromRoutes()},mounted:function(){this.$store.commit("d2adminUsernameLoad"),this.$store.commit("d2adminUpdateNotifyLoad"),this.$store.commit("d2adminThemeLoad"),this.$store.commit("d2adminPageOpenedListLoad")},methods:{getAllTagFromRoutes:function(){var e=[];!function t(n){n.forEach(function(n){if(n.children)t(n.children);else{var a=n.meta,i=n.name,o=n.path;e.push({meta:a,name:i,path:o})}})}(V),this.$store.commit("d2adminTagPoolSet",e)}}})},Obzr:function(e,t){},tvR6:function(e,t){},zk8y:function(e,t){}},[0]);
//# sourceMappingURL=app.d924ebdf778f4f841714.js.map